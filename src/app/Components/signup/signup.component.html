
<section class="container-fluid">
    <div class="allform">
        <div>
            <h3 class="flicker">SingUp Now:</h3>
        </div>
    
    <form [formGroup]="signupForm" (ngSubmit)="handleForm()">
        <div class="mb-3">
            <label for="name" class="form-label">Name:</label>
            <input formControlName="name" type="text" class="form-control" id="name" placeholder="Enter Your Name...">
          </div>
          <div *ngIf="signupForm.get('name')?.errors && (signupForm.get('name')?.touched || signupForm.get('name')?.value.length > 0)" class="alert alert-danger p-1 small w-100 mx-auto">
            <p *ngIf="signupForm.get('name')?.getError('required')">Name is Required</p>
            <p *ngIf="signupForm.get('name')?.getError('minlength')">Name must be at least 3 chars</p>
            <p *ngIf="signupForm.get('name')?.getError('maxlength')">Name max length is 20 chars</p>
          </div>
        <div class="mb-3">
          <label for="email" class="form-label">Email:</label>
          <input formControlName="email" type="email" class="form-control" id="email" placeholder="Enter Your Email...">
        </div>
        <div *ngIf="signupForm.get('email')?.errors && (signupForm.get('email')?.touched || signupForm.get('email')?.value.length > 0)" class="alert alert-danger p-1 small w-100 mx-auto">
          <p *ngIf="signupForm.get('email')?.getError('required')">Email is Required</p>
          <p *ngIf="signupForm.get('email')?.getError('email')">Email Invalid</p>
        </div>
        <div class="mb-3">
          <label for="password" class="form-label">Password:</label>
          <input formControlName="password" type="password" class="form-control" id="password" placeholder="Enter Your Password...">
        </div>
        <div *ngIf="signupForm.get('password')?.errors && (signupForm.get('password')?.touched || signupForm.get('password')?.value.length > 0)" class="alert alert-danger p-1 small w-100 mx-auto">
          <p *ngIf="signupForm.get('password')?.getError('required')">Password is Required</p>
          <p *ngIf="signupForm.get('password')?.getError('minlength')">Password must be at least 6 chars</p>
          <p *ngIf="signupForm.get('password')?.getError('pattern')">Password must start with upperCase then from 6 to 10</p>
        </div>
        <div class="mb-3">
            <label for="rePassword" class="form-label">rePassword:</label>
            <input formControlName="rePassword" type="password" class="form-control" id="rePassword" placeholder="Enter Your rePassword...">
          </div>
          <div *ngIf="signupForm.get('rePassword')?.errors && (signupForm.get('rePassword')?.touched || signupForm.get('rePassword')?.value.length > 0)" class="alert alert-danger p-1 small w-100 mx-auto">
            <p *ngIf="signupForm.get('rePassword')?.getError('required')">rePassword is Required</p>
            <p *ngIf="signupForm.get('rePassword')?.getError('minlength')">rePassword must be at least 6 chars</p>
            <p *ngIf="signupForm.get('rePassword')?.getError('misMatch')">rePassword is MissMatch</p>
          </div>
          <div class="mb-3">
            <label for="rePassword" class="form-label">Phone:</label>
            <input formControlName="phone" type="tel" class="form-control" id="phone" placeholder="Enter Your phone...">
          </div>
          <div *ngIf="signupForm.get('phone')?.errors && (signupForm.get('phone')?.touched || signupForm.get('phone')?.value.length > 0)" class="alert alert-danger p-1 small w-100 mx-auto">
            <p *ngIf="signupForm.get('phone')?.getError('required')">Phone is Required</p>
            <p *ngIf="signupForm.get('phone')?.getError('pattern')">Accept only egypt phone numbers</p>
          </div>
       
        <button  [disabled]="signupForm.invalid" type="submit" class="btn subbtn">SingUp <i class="fa fa-spin fa-spinner" *ngIf="isLoading"></i> </button>
      </form>
    
      <div *ngIf="errormsg" class="alert alert-danger p-1 small w-100 mx-auto">
        <h5 >{{errormsg}}</h5>
      </div>
    </div>
    </section>